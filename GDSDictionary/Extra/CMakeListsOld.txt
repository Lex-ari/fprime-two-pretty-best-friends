####
# F prime CMakeLists.txt:
#
# SOURCE_FILES: combined list of source and autocoding files
# MOD_DEPS: (optional) module dependencies
####

set(SOURCE_FILES
  # "${CMAKE_CURRENT_LIST_DIR}/instances.fpp"
  # "${CMAKE_CURRENT_LIST_DIR}/GDSDictionaryPackets.xml"
  # "${CMAKE_CURRENT_LIST_DIR}/topology.fpp"
  # "${CMAKE_CURRENT_LIST_DIR}/GDSDictionaryTopology.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/empty.cpp"
)


set(MOD_DEPS
  Fw/Logger
  Svc/PosixTime
  # Communication Implementations
  Drv/Udp
  Drv/TcpServer
  # obcA_sources
  # obcB_sources
)

register_fprime_module()

# add_dependencies(
#   SOURCE_FILES
#   obcA_sources
#   obcB_sources
# )

# set(OBCA_BUILD_DIR "${CMAKE_SOURCE_DIR}/build-fprime-automatic-native/obcA")
# add_library(
#   obcA_sources

#   # "${OBCA_BUILD_DIR}/Top/obcATopologyAc.hpp"
#   # "${OBCA_BUILD_DIR}/Top/obcAPacketsAc.hpp"
#   # "${OBCA_BUILD_DIR}/Top/obcATopologyAppAi.xml"
  
#   "${CMAKE_SOURCE_DIR}/obcA/Top/obcATopology.cpp"
#   "${CMAKE_SOURCE_DIR}/obcA/Top/obcAPackets.xml"
#   # "#{CMAKE_SOURCE_DIR}/obcA/Top/obcATopology.hpp"
#   # "#{CMAKE_SOURCE_DIR}/obcA/Top/obcATopologyDefs.hpp"
#   # "${CMAKE_SOURCE_DIR}/obcA/Top/topology.fpp"
#   # "${CMAKE_SOURCE_DIR}/obcA/Top/instances.fpp"
# )

# set(OBCB_BUILD_DIR "${CMAKE_SOURCE_DIR}/build-fprime-automatic-native/obcB")
# add_library(
#   obcB_sources

#   # "${OBCB_BUILD_DIR}/Top/obcBTopologyAc.hpp"
#   # "${OBCB_BUILD_DIR}/Top/obcBPacketsAc.hpp"
#   # "${OBCB_BUILD_DIR}/Top/obcBTopologyAppAi.xml"
  
#   "${CMAKE_SOURCE_DIR}/obcB/Top/obcBTopology.cpp"
#   "${CMAKE_SOURCE_DIR}/obcB/Top/obcBPackets.xml"
#   # "#{CMAKE_SOURCE_DIR}/obcB/Top/obcBTopology.hpp"
#   # "#{CMAKE_SOURCE_DIR}/obcB/Top/obcBTopologyDefs.hpp"
#   # "${CMAKE_SOURCE_DIR}/obcB/Top/topology.fpp"
#   # "${CMAKE_SOURCE_DIR}/obcB/Top/instances.fpp" 
# )